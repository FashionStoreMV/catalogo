<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="stylesheet" href="img/wlogo/Logo FashionStore.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FashionStore M&V葛</title>
    <link rel="stylesheet" href="recursos/css/index.css">
</head>

<body>
    <div class="linea-superior"></div>

    <header>
        <img src="recursos/img/wlogo/Logo FashionStore.png" alt="Logo FashionStore" width="110" height="110"
            class="logo">
        <h1>Bienvenido a <span>FashionStore M&V</span></h1>
        <p>Descubre nuestro cat谩logo de ropa para <b><u>Mujer</u></b> y <b><u>Hombre</u></b>.</p>
    </header>

    <div class="contenedor">
        <a href="#mujer" class="rectangulo">Secci贸n Mujer</a>
        <a href="#hombre" class="rectangulo">Secci贸n hombre</a>
        <a href="#gorras" class="rectangulo">Secci贸n Gorras</a>
    </div>
    <!--barra de busqueda-->
    <div class="buscador">
        <input type="text" id="searchInput" placeholder="Buscar producto... ">
    </div>

    <!-- Secci贸n Mujer -->
    <div id="mujer" class="categoria">
        <h2 style="text-align: center; background-color: #ffbce7;">Mujer:</h2>
        <section class="menu">

            <div class="menu-item">
                <a href="productos/enterizos/mujer/EnterizoCortoDeFormula1Rojo.html">
                    <div class="img-container">
                        <img src="recursos/img/enterizos/mujer/EnterizoLargoDeFormula1Rojo.jpeg"
                            alt="Enterizo Largo De Formula 1 Rojo">
                        <div class="overlay">Ver Detalles</div>
                    </div>
                    <h3>Enterizo Corto De Formula 1 Rojo</h3>
                    <h3>$</h3>
                </a>
            </div>

            <div class="menu-item2">
                <a href="productos/enterizos/mujer/EnterizoCortoDeFormula1Negro.html">
                    <div class="img-container">
                        <img src="recursos/img/enterizos/mujer/EnterizoCortoDeFormula1Negro.jpeg"
                            alt="Enterizo Corto De F贸rmula 1 Negro">
                        <div class="overlay">Ver Detalles</div>
                    </div>
                    <h3>Enterizo Corto De F贸rmula 1 Negro</h3>
                    <h3>$</h3>
                </a>
            </div>

            <div class="menu-item">
                <a href="productos/conjuntos/mujer/ConjuntoDeportivoOriginal.html">
                    <div class="img-container">
                        <img src="recursos/img/conjuntos/mujer/ConjuntoDeportivoOriginal.jpeg"
                            alt="Conjunto Deportivo Original">
                        <div class="overlay">Ver Detalles</div>
                    </div>
                    <h3>Conjunto Deportivo Original</h3>
                    <h3>$</h3>
                </a>
            </div>

        </section>
    </div>

    <!-- Seccion Hombre-->
    <div id="hombre" class="categoria">
        <h2 style="text-align: center; background-color: #a2acff;">Hombre:</h2>
        <section class="menu">
            <!-- Vestimentas-->
            <div class="menu-item">
                <a href="productos/conjuntos/hombre/ConjuntoDeNi帽o.html">
                    <div class="img-container">
                        <img src="recursos/img/conjuntos/hombre/ConjuntoDeNi帽o.jpeg" alt="Conjunto De Ni帽o">
                        <div class="overlay">Ver Detalles</div>
                    </div>
                    <h3>Conjunto De Ni帽o</h3>
                    <h3>$</h3>
                </a>
            </div>

        </section>
    </div>

    <!-- Seccion de gorras-->
    <div id="gorras" class="categoria">
        <h2 style="text-align: center; background-color: #edfff3;">Gorras:</h2>

        <section class="menu">
            <!-- Gorras -->
             <div class="menu-item">
                <a href="productos/conjuntos/hombre/ConjuntoDeNi帽o.html">
                    <div class="img-container">
                        <img src="recursos/img/gorras/GorraRojaNewYork.webp" alt="Gorra Roja New York">
                        <div class="overlay">Ver Detalles</div>
                    </div>
                    <h3>Gorra Roja New York</h3>
                    <h3>$</h3>
                </a>
             </div>

        </section>
    </div>

    <section class="creditos">
        <h3>Para Obtener M谩s Informaci贸n Ingresa Al Siguiente Canal De WhatsApp:</h3>
        <div class="link">
            <a href="https://whatsapp.com/channel/0029VbBSoksISTkJGZYDiK1l" class="rectangulo">Sigue el canal de FashionStore M&V </a>
        </div>
    </section>

    <script>
        const searchInput = document.getElementById('searchInput');
        const productos = document.querySelectorAll('.menu-item');

        searchInput.addEventListener('input', () => {
            const filtro = searchInput.value.toLowerCase();
            productos.forEach(producto => {
                const nombre = producto.innerText.toLowerCase();
                producto.style.display = nombre.includes(filtro) ? '' : 'none';
            });
        });
    </script>

<script src="recursos/js/cart.js"></script>
<script src="recursos/js/save-order.js"></script>
<div id="cartFloating" style="position:fixed;right:18px;bottom:18px;z-index:9999">
  <button id="openCart" style="width:56px;height:56px;border-radius:50%;border:none;box-shadow:0 6px 18px rgba(0,0,0,0.12);font-size:18px"></button>
</div>
<div id="cartModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.4);align-items:center;justify-content:center">
  <div style="background:#fff;padding:16px;border-radius:8px;min-width:320px;max-width:700px">
    <h3>Carrito</h3>
    <div id="cartArea"></div>
    <div><strong>Total: $<span id="cartTotal">0</span></strong></div>
    <button id="checkoutBtn">Enviar por WhatsApp</button>
    <button id="closeCart">Cerrar</button>
  </div>
</div>
<script>
var FIREBASE_CONFIG = null;
if(FIREBASE_CONFIG !== null) firebase.initializeApp(FIREBASE_CONFIG);
const WA_PHONE = '56954356331';
function renderCartArea(){ const area = document.getElementById('cartArea'); area.innerHTML=''; const items = window.__ShopCart ? window.__ShopCart.listItems() : []; if(items.length===0) area.innerHTML='<em>Carrito vac铆o</em>'; items.forEach(it=>{ const div = document.createElement('div'); div.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px solid #eee"><div><strong>${it.name}</strong><div>talla: ${it.size||''}</div><div>cantidad: ${it.qty}</div></div><div>$${it.price*it.qty} <button data-key="${it.key}" class="rem">Quitar</button></div></div>`; area.appendChild(div); }); document.getElementById('cartTotal').textContent = window.__ShopCart ? window.__ShopCart.total() : 0; document.querySelectorAll('.rem').forEach(b=>b.addEventListener('click', (e)=>{ window.__ShopCart.removeItem(e.currentTarget.getAttribute('data-key')); renderCartArea(); })); }
document.getElementById('openCart').addEventListener('click', ()=>{ document.getElementById('cartModal').style.display='flex'; renderCartArea(); });
document.getElementById('closeCart').addEventListener('click', ()=>{ document.getElementById('cartModal').style.display='none'; });
document.getElementById('checkoutBtn').addEventListener('click', ()=>{
  const name = prompt('Nombre y apellido (sin RUT)'); if(!name) return alert('Ingrese un nombre'); const parts = name.trim().split(' '); const firstname = parts.shift(); const lastname = parts.join(' '); const items = window.__ShopCart.listItems(); const total = window.__ShopCart.total(); const code = (Math.random().toString(36).substr(2,9) + Date.now().toString(36)).substr(0,12); const order = { name: firstname + ' ' + lastname, items, total, code, date: new Date().toISOString(), status: 'pendiente' };
  saveOrderToFirestore(order).then(id=>{ if(id) order.id = id; let msg = `Nombre: ${order.name}\n--- Productos ---\n`; order.items.forEach((it,i)=> msg += `${i+1}. ${it.name}. precio: $${it.price} tallas pedidas: ${it.size}. Cantidad: ${it.qty}\n`); msg += `\nTotal: $${order.total}\n\nC贸digo de pedido: ${order.code}`; const url = 'https://wa.me/' + WA_PHONE + '?text=' + encodeURIComponent(msg); window.open(url,'_blank'); window.__ShopCart.clearCart(); renderCartArea(); alert('Pedido enviado. C贸digo: ' + order.code); }).catch(e=>{ console.error(e); alert('Error guardando pedido: '+e.message); });
});
window.addEventListener('cart.updated', ()=> renderCartArea());
</script>

</body>

</html>