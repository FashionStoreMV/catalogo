<!doctype html><html lang="es"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Admin Login</title><link rel="stylesheet" href="../recursos/css/index.css"></head><body>
<div style="max-width:480px;margin:40px auto;padding:20px;background:#fff;border-radius:8px"><h2>Acceso Trabajadores</h2><p>Use cuenta autorizada</p><label>Email: <input id="email" type="email"></label><br><br><label>Contrase√±a: <input id="pass" type="password"></label><br><br><button id="login">Ingresar</button><div id="err" style="color:red;margin-top:8px"></div></div>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script>var FIREBASE_CONFIG = null; if(FIREBASE_CONFIG !== null) firebase.initializeApp(FIREBASE_CONFIG); const auth = firebase.auth(); const db = firebase.firestore(); document.getElementById('login').addEventListener('click', async function(){ const email = document.getElementById('email').value.trim(); const pass = document.getElementById('pass').value.trim(); document.getElementById('err').textContent=''; try{ const res = await auth.signInWithEmailAndPassword(email, pass); const doc = await db.collection('admins').doc(res.user.uid).get(); if(doc.exists && doc.data().enabled){ window.location.href = 'pedidos.html'; } else { document.getElementById('err').textContent='Cuenta no autorizada'; auth.signOut(); } }catch(err){ document.getElementById('err').textContent = err.message; } });</script></body></html>